{"ts":1377026855575,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<a href = 'javascript:function countWords(a){if(!a||a===\"\")return 0;a=a.replace(/(^\\s*)|(\\s*$)/gi,\"\");a=a.replace(/[ ]{2,}/gi,\" \");a=a.replace(/\\n /,\"\\n\");return a.split(\" \").length}if(abox){abox.style.display=\"none\"}var txtanalyze=function(){if(window.getSelection){return[countWords(window.getSelection().toString()),window.getSelection().toString().length]}return[0,0]};var abox=document.createElement(\"div\");abox.setAttribute(\"style\",\"color:black;position:fixed;left:5%;top:5%;width:110px;height:auto;font-size:14px;z-index:1000;background:white;border-radius:5px;border:1px solid black;padding:5px 2px 5px 4px;\");abox.setAttribute(\"id\",\"analyticsbox\");var analyticValues=txtanalyze();abox.appendChild(document.createTextNode(\"WC: \"+analyticValues[0]+\" words \\n\\rChars: \"+analyticValues[1]));document.body.appendChild(abox);abox.addEventListener(\"click\",function(){abox.style.display=\"none\"},false)\n'> \nSafe Browsing</a>\n\n<br>\n<p>\nDrag this link onto your bookmarks bar to bookmark it. Clicking on it will create a toolbox<br>\nwith z-index 1000.\n</p>\n\n<script>\n\nif(abox){abox.style.display=\"none\";}\n\n// Create the box\nvar abox=document.createElement(\"div\");\nabox.setAttribute(\"style\",\"\\\n    color:black;\\\n    position:fixed;\\\n    left:5%;\\\n    top:5%;\\\n    width:500px;\\\n    height:auto;\\\n    font-size:14px;\\\n    z-index:1000;\\\n    background:white;\\\n    border-radius:5px;\\\n    border:1px solid black;\\\n    opacity:1;\\\n    padding:10px 10px 10px 10px;\\\n    box-shadow:0px 0px 3px silver;\\\n    font-family:sans-serif;\"\n);\nabox.setAttribute(\"id\",\"safebrowingbox\");\n\nabox.appendChild(document.createTextNode(\"Site to test:\"));\nabox.appendChild(document.createElement(\"br\"));\n\n// Create an input\nvar aboxInput = document.createElement(\"input\");\naboxInput.setAttribute(\"style\",\"\\\n    min-width:400px;\\\n    text-align:left;\\\n    background-color: #fff;\\\n    border: 1px solid #ccc;\\\n    box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);\\\n    display: inline-block;\\\n    height: 20px;\\\n    padding: 4px 6px;\\\n    margin-bottom: 10px;\\\n    font-size: 14px;\\\n    line-height: 20px;\\\n    color: #555;\\\n    vertical-align: middle;\\\n    -webkit-border-radius: 4px;\\\n    -moz-border-radius: 4px;\\\n    border-radius: 4px;\\\n    float:left;\\\n    margin-left:15px;\"\n);\naboxInput.setAttribute(\"id\",\"safebrowingboxInput\");\naboxInput.setAttribute(\"placeholder\",\"Enter site URL here\");\nif(window.getSelection) {\n    aboxInput.setAttribute(\"value\", window.getSelection());\n}\nabox.appendChild(aboxInput);\n\n// Close button\nvar aboxClose = document.createElement(\"div\");\naboxClose.setAttribute(\"style\",\"\\\n    color:black;\\\n    position:absolute;\\\n    right:5px;\\\n    top:5px;\\\n    width:auto;\\\n    font-size:14px;\\\n    text-align:right;\\\n    font-family:sans-serif;\\\n    cursor:pointer;\"\n);\naboxClose.appendChild(document.createTextNode(\"X\"));\naboxClose.setAttribute(\"id\",\"safebrowingboxClose\");\nabox.appendChild(aboxClose);\n\n// Submit\nvar aboxSubmit = document.createElement(\"button\");\naboxSubmit.setAttribute(\"style\",\"float:left;\");\naboxSubmit.appendChild(document.createTextNode(\"Test\"));\naboxSubmit.setAttribute(\"id\",\"safebrowingboxSubmit\");\nabox.appendChild(aboxSubmit);\n\ndocument.body.appendChild(abox);\naboxClose.addEventListener(\"click\", function(){abox.style.display=\"none\";}, false); \nvar aboxParse = function(input) {\n    var a = document.createElement('a');\n    a.href = input;\n    console.log(a);\n    return a[\"hostname\"];\n};\nvar aboxSubmitEvent = function() {\n    window.open(\"http://www.google.com/safebrowsing/diagnostic?site=\"+\n        aboxParse(aboxInput.value));\n};\naboxSubmit.addEventListener(\"click\", aboxSubmitEvent, false);\naboxInput.onkeypress = function(e) {\n    var e=window.event || e;\n    // the Enter key\n    if(e.keyCode == 13) {\n        aboxSubmitEvent();\n    }\n};\n\nvar aboxSelectText = function() {\n    if (document.selection) {\n        var range = document.body.createTextRange();\n        range.selectNodeContents(aboxInput);\n        range.select();\n    } else if (window.getSelection) {\n        var range = document.createRange();\n        range.selectNodeContents(aboxInput);\n        window.getSelection().addRange(range);\n    }\n}\naboxInput.addEventListener(\"click\", aboxSelectText);\n\n</script>"]],"start1":0,"start2":0,"length1":0,"length2":4206}]],"length":4206}
{"contributors":[],"silentsave":false,"ts":1377026930067,"patch":[[{"diffs":[[0,"\n    }\n}"],[1,";"],[0,"\naboxInp"]],"start1":4134,"start2":4134,"length1":16,"length2":17}]],"length":4207,"saved":false}
{"ts":1377027230562,"patch":[[{"diffs":[[0,"\n};\n"],[-1,"\nvar aboxSelectText = function() {\n    if (document.selection) {\n        var range = document.body.createTextRange();\n        range.selectNodeContents(aboxInput);\n        range.select();\n    } else if (window.getSelection) {\n        var range = document.createRange();\n        range.selectNodeContents(aboxInput);\n        window.getSelection().addRange(range);\n    }\n};\naboxInput.addEventListener(\"click\", aboxSelectText);\n\n"],[0,"</sc"]],"start1":3770,"start2":3770,"length1":432,"length2":8}]],"length":3783,"saved":false}
{"ts":1377027244476,"patch":[[{"diffs":[[0,"rn a"],[-1,"[\""],[1,"."],[0,"hostname"],[-1,"\"]"],[0,";\n};"]],"start1":3396,"start2":3396,"length1":20,"length2":17}]],"length":3780,"saved":false}
{"ts":1377027301024,"patch":[[{"diffs":[[0,"-width:4"],[-1,"0"],[1,"2"],[0,"0px;\\\n  "]],"start1":1788,"start2":1788,"length1":17,"length2":17}]],"length":3780,"saved":false}
{"ts":1377027306892,"patch":[[{"diffs":[[0," width:5"],[-1,"0"],[1,"2"],[0,"0px;\\\n  "]],"start1":1260,"start2":1260,"length1":17,"length2":17},{"diffs":[[0,"-width:4"],[-1,"2"],[1,"0"],[0,"0px;\\\n  "]],"start1":1788,"start2":1788,"length1":17,"length2":17}]],"length":3780,"saved":false}
{"ts":1377027355911,"patch":[[{"diffs":[[0,"bmit);\n\n"],[1,"// Clear\nvar aboxClear = document.createElement(\"button\");\naboxClear.setAttribute(\"style\",\"float:left;\");\naboxClear.appendChild(document.createTextNode(\"Test\"));\naboxClear.setAttribute(\"id\",\"safebrowingboxSubmit\");\nabox.appendChild(aboxClear);\n\n"],[0,"document"]],"start1":3147,"start2":3147,"length1":16,"length2":261}]],"length":4025,"saved":false}
{"ts":1377027382899,"patch":[[{"diffs":[[0,"createTextNode(\""],[-1,"Test"],[1,"Clear"],[0,"\"));\naboxClear.s"]],"start1":3292,"start2":3292,"length1":36,"length2":37}]],"length":4026,"saved":false}
{"ts":1377027414103,"patch":[[{"diffs":[[0,"   }\n};\n"],[1,"aboxClear.addEventListener(\"click\", function() {\n    aboxInput.value = \"\";\n}, false);\n"],[0,"</script"]],"start1":4009,"start2":4009,"length1":16,"length2":102}]],"length":4112,"saved":false}
{"contributors":[],"silentsave":false,"ts":1377027507889,"patch":[[{"diffs":[[0,"ipt:"],[-1,"function countWords(a){if(!a||a===\"\")return 0;a=a.replace(/(^\\s*)|(\\s*$)/gi,\"\");a=a.replace(/[ ]{2,}/gi,\" \");a=a.replace(/\\n /,\"\\n\");return a.split(\" \").length}if(abox){abox.style.display=\"none\"}var txtanalyze=function(){if(window.getSelection){return[countWords(window.getSelection().toString()),window.getSelection().toString().length]}return[0,0]}"],[1,"if(abox){abox.style.display=\"none\"}var abox=document.createElement(\"div\");abox.setAttribute(\"style\",\"    color:black;    position:fixed;    left:5%;    top:5%;    width:520px;    height:auto;    font-size:14px;    z-index:1000;    background:white;    border-radius:5px;    border:1px solid black;    opacity:1;    padding:10px 10px 10px 10px;    box-shadow:0px 0px 3px silver;    font-family:sans-serif;\");abox.setAttribute(\"id\",\"safebrowingbox\");abox.appendChild(document.createTextNode(\"Site to test:\"));abox.appendChild(document.createElement(\"br\"));var aboxInput=document.createElement(\"input\");aboxInput.setAttribute(\"style\",\"    min-width:400px;    text-align:left;    background-color: #fff;    border: 1px solid #ccc;    box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);    display: inline-block;    height: 20px;    padding: 4px 6px;    margin-bottom: 10px;    font-size: 14px;    line-height: 20px;    color: #555;    vertical-align: middle;    -webkit-border-radius: 4px;    -moz-border-radius: 4px;    border-radius: 4px;    float:left;    margin-left:15px;\");aboxInput.setAttribute(\"id\",\"safebrowingboxInput\");aboxInput.setAttribute(\"placeholder\",\"Enter site URL here\");if(window.getSelection){aboxInput.setAttribute(\"value\",window.getSelection())}abox.appendChild(aboxInput)"],[0,";var"]],"start1":18,"start2":18,"length1":358,"length2":1294},{"diffs":[[0,"xInput);var abox"],[1,"Close"],[0,"=document.create"]],"start1":1301,"start2":1301,"length1":32,"length2":37},{"diffs":[[0,"ment(\"div\");abox"],[1,"Close"],[0,".setAttribute(\"s"]],"start1":1341,"start2":1341,"length1":32,"length2":37},{"diffs":[[0,"style\",\""],[1,"    "],[0,"color:bl"]],"start1":1377,"start2":1377,"length1":16,"length2":20},{"diffs":[[0,"r:black;"],[1,"    "],[0,"position"]],"start1":1393,"start2":1393,"length1":16,"length2":20},{"diffs":[[0,"ion:"],[-1,"fixed;left:5%;top:5%;width:110px;height"],[1,"absolute;    right:5px;    top:5px;    width"],[0,":auto;"],[1,"    "],[0,"font"]],"start1":1410,"start2":1410,"length1":53,"length2":62},{"diffs":[[0,"4px;"],[-1,"z-index:1000;background:white;border-radius:5px;border:1px solid black;padding:5px 2px 5px 4px;\");abox.setAttribute(\"id\",\"analyticsbox\");var analyticValues=txtanalyze("],[1,"    text-align:right;    font-family:sans-serif;    cursor:pointer;\");aboxClose.appendChild(document.createTextNode(\"X\"));aboxClose.setAttribute(\"id\",\"safebrowingboxClose\");abox.appendChild(aboxClose);var aboxSubmit=document.createElement(\"button\");aboxSubmit.setAttribute(\"style\",\"float:left;\");aboxSubmit.appendChild(document.createTextNode(\"Test\"));aboxSubmit.setAttribute(\"id\",\"safebrowingboxSubmit\");abox.appendChild(aboxSubmit);var aboxClear=document.createElement(\"button\");aboxClear.setAttribute(\"style\",\"float:left;\""],[0,");abox"],[1,"Clear"],[0,".app"]],"start1":1479,"start2":1479,"length1":181,"length2":544},{"diffs":[[0,"de(\""],[-1,"WC: \"+analyticValues[0]+\" words \\n\\rChars: \"+analyticValues[1])"],[1,"Clear\"));aboxClear.setAttribute(\"id\",\"safebrowingboxSubmit\");abox.appendChild(aboxClear"],[0,");do"]],"start1":2053,"start2":2053,"length1":71,"length2":95},{"diffs":[[0,"ox);abox"],[1,"Close"],[0,".addEven"]],"start1":2174,"start2":2174,"length1":16,"length2":21},{"diffs":[[0,"},false)"],[1,";var aboxParse=function(e){var t=document.createElement(\"a\");t.href=e;console.log(t);return t.hostname};var aboxSubmitEvent=function(){window.open(\"http://www.google.com/safebrowsing/diagnostic?site=\"+aboxParse(aboxInput.value))};aboxSubmit.addEventListener(\"click\",aboxSubmitEvent,false);aboxInput.onkeypress=function(e){var e=window.event||e;if(e.keyCode==13){aboxSubmitEvent()}};aboxClear.addEventListener(\"click\",function(){aboxInput.value=\"\"},false)"],[0,"\n'> \nSaf"]],"start1":2249,"start2":2249,"length1":16,"length2":470}]],"length":5921,"saved":false}
